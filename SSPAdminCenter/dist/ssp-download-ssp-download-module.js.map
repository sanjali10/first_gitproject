{"version":3,"sources":["webpack:///./src/app/layout/ssp-download/ssp-download-routing.module.ts","webpack:///./src/app/layout/ssp-download/ssp-download.component.html","webpack:///./src/app/layout/ssp-download/ssp-download.component.scss","webpack:///./src/app/layout/ssp-download/ssp-download.component.ts","webpack:///./src/app/layout/ssp-download/ssp-download.module.ts"],"names":[],"mappings":"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","file":"ssp-download-ssp-download-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SspDownloadComponent } from '../ssp-download/ssp-download.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: SspDownloadComponent,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SspDownloadRoutingModule { }\r\n","module.exports = \"<div class=\\\"example-container mat-elevation-z8\\\">\\r\\n  <table mat-table [dataSource]=\\\"downloadDataSource\\\" class=\\\"mat-elevation-z8\\\">\\r\\n      <ng-container matColumnDef=\\\"name\\\">\\r\\n        <th mat-header-cell *matHeaderCellDef>{{'Application' | translate }}</th>\\r\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.name}} </td>\\r\\n      </ng-container>  \\r\\n      <!-- Win-32 Column -->\\r\\n      <ng-container matColumnDef=\\\"Windows32\\\">\\r\\n        <th mat-header-cell *matHeaderCellDef> {{'Windows 32' | translate }}</th>\\r\\n        <td mat-cell *matCellDef=\\\"let element\\\"><button class=\\\"btn btn-primary\\\" (click)=\\\"downloadFile(element.name, 'windows')\\\" [disabled]=\\\"windowsSystem !== true\\\"> {{'Download' | translate }}</button> </td>\\r\\n      </ng-container>\\r\\n      <!-- Win-64 Column -->\\r\\n      <ng-container matColumnDef=\\\"Windows64\\\">\\r\\n        <th mat-header-cell *matHeaderCellDef>{{'Windows 64' | translate }}</th>\\r\\n        <td mat-cell *matCellDef=\\\"let element\\\"><button class=\\\"btn btn-primary\\\" (click)=\\\"downloadFile(element.name, 'windows')\\\" [disabled]=\\\"windowsSystem !== true\\\"> {{'Download' | translate }}</button></td>\\r\\n      </ng-container>\\r\\n      <!-- Mac Column -->\\r\\n      <ng-container matColumnDef=\\\"Macintosh\\\">\\r\\n        <th mat-header-cell *matHeaderCellDef>{{'Macintosh' | translate }}</th>\\r\\n        <td mat-cell *matCellDef=\\\"let element\\\"><button class=\\\"btn btn-primary\\\" (click)=\\\"downloadFile(element.name, 'mac')\\\" [disabled]=\\\"macSystem !== true\\\">{{'Download' | translate }}</button></td>\\r\\n      </ng-container>\\r\\n      <tr mat-header-row *matHeaderRowDef=\\\"displayedDownloadColumns\\\"></tr>\\r\\n      <tr mat-row *matRowDef=\\\"let row; columns: displayedDownloadColumns;\\\"></tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\t\"","module.exports = \"table {\\n  width: 100%; }\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { environment } from '../../../environments/environment';\r\nimport { DeviceDetectorService } from 'ngx-device-detector';\r\n\r\n@Component({\r\n  selector: 'app-ssp-download',\r\n  templateUrl: './ssp-download.component.html',\r\n  styleUrls: ['./ssp-download.component.scss']\r\n})\r\nexport class SspDownloadComponent implements OnInit {\r\n\r\n  private DownloadUrl = null;\r\n  private fileName = null;\r\n  deviceInfo = null;\r\n  private windowsSystem: boolean;\r\n  private macSystem: boolean;\r\n  constructor(private route: ActivatedRoute, private router: Router, private http: HttpClient,\r\n    private deviceService: DeviceDetectorService) { }\r\n\r\n  private DOWNLOAD_APPLICATION_DATA: DownloadElement[] = [\r\n    { name: 'Smart Meeting', Windows32: '', Windows64: '', Macintosh: '' },\r\n    { name: 'Meeting Voice Client', Windows32: '', Windows64: '', Macintosh: '' },\r\n    { name: 'Ssp Admin', Windows32: '', Windows64: '', Macintosh: '' }];\r\n\r\n  displayedDownloadColumns: string[] = ['name', 'Windows32', 'Windows64', 'Macintosh'];\r\n  downloadDataSource = this.DOWNLOAD_APPLICATION_DATA;\r\n  ngOnInit() {\r\n    this.deviceInfo = this.deviceService.getDeviceInfo();\r\n    console.log(JSON.stringify(this.deviceInfo.userAgent));\r\n    if (this.deviceInfo.os === 'windows') {\r\n      this.windowsSystem = true;\r\n    }\r\n    if (this.deviceInfo.os === 'mac') {\r\n      this.macSystem = true;\r\n    }\r\n  }\r\n\r\n  downloadFile(applicationName, os) {\r\n    console.log(JSON.stringify(applicationName));\r\n    if (applicationName === 'Smart Meeting' && os !== 'mac') {\r\n      this.DownloadUrl = environment.smartMeeting.url;\r\n      this.fileName = applicationName + '.' + 'zip';\r\n    } else if (applicationName === 'Meeting Voice Client' && os !== 'mac') {\r\n      this.DownloadUrl = environment.meetingVoiceClient.url;\r\n      this.fileName = applicationName + '.' + 'zip';\r\n    } else if (applicationName === 'Ssp Admin' && os !== 'mac') {\r\n      console.log('ssp download =====');\r\n      return;\r\n    } else if (applicationName === 'Smart Meeting' && os === 'mac') {\r\n      this.DownloadUrl = environment.macSmartMeeting.url;\r\n      this.fileName = applicationName + '.' + 'zip';\r\n    } else if (applicationName === 'Meeting Voice Client' && os === 'mac') {\r\n      this.DownloadUrl = environment.macMeetingVoiceClient.url;\r\n      this.fileName = applicationName + '.' + 'zip';\r\n    } else if (applicationName === 'Ssp Admin' && os === 'mac') {\r\n      console.log('ssp download =====');\r\n      return;\r\n    } else {\r\n      console.log('mac os =====');\r\n    }\r\n\r\n    return this.http\r\n      .get(this.DownloadUrl, {\r\n        responseType: 'blob'\r\n      })\r\n      .subscribe(res => {\r\n        const objectUrl = window.URL.createObjectURL(res);\r\n        const appendObject = document.createElement('a');\r\n        document.body.appendChild(appendObject);\r\n        appendObject.setAttribute('style', 'display: none');\r\n        appendObject.href = objectUrl;\r\n        appendObject.download = this.fileName;\r\n        appendObject.click();\r\n        window.URL.revokeObjectURL(objectUrl);\r\n        appendObject.remove(); // remove the element\r\n      }, error => {\r\n        console.log('download error:', JSON.stringify(error));\r\n      });\r\n  }\r\n}\r\nexport interface DownloadElement {\r\n  name: string;\r\n  Windows32: string;\r\n  Windows64: string;\r\n  Macintosh: string;\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SspDownloadRoutingModule } from './ssp-download-routing.module';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SspDownloadComponent } from './ssp-download.component';\r\nimport { AppMaterialModule } from '../../material/material.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SspDownloadRoutingModule,\r\n    HttpClientModule,\r\n    AppMaterialModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [SspDownloadComponent]\r\n})\r\nexport class SspDownloadModule { }\r\n"],"sourceRoot":""}